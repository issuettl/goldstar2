!function(){var e={init:function(){var e=this;e.listData=null,e.setting(),e.bindEvents(),lgkorUI.getCookie(lgkorUI.RECENT_PROD_COOKIE_NAME)?e.requestData(!1):e.$KRP0005.find(".floating-linker.recently").hide()},setting:function(){var e=this;e.$floatingWrap=$(".btn-floating-wrap"),e.$KRP0005=$(".KRP0005.floating-menu"),e.moreButton=e.$KRP0005.find(".more-plus-linker a"),e.$popup=$("#KRP0032:eq(0)"),e.$list=e.$popup.find("div.lately-list ul")},bindEvents:function(){var e=this;e.moreButton.on("click",(function(o){o.preventDefault(),e.$floatingWrap.hasClass("open")?(e.$popup.hasClass("open")&&e.closePopup(),e.$floatingWrap.removeClass("open"),e.moreButton.attr("aria-expanded",!1),e.moreButton.find("span").text("서비스 메뉴 열기")):(e.$floatingWrap.addClass("open"),e.moreButton.attr("aria-expanded",!0),e.moreButton.find("span").text("서비스 메뉴 닫기"))})),e.$KRP0005.on("click","div.floating-linker > a",(function(o){o.preventDefault();var a=$(this).parents("div.floating-linker");if(a.hasClass("faq"))window.open("/support/usage-guide-faq","_blank");else if(a.hasClass("chat"));else if(a.hasClass("recently"))e.listData?e.openPopup():e.requestData(!0);else{o.preventDefault();var t=$(this).attr("href");t&&t.replace("#","").length>0&&(location.href=t)}})),e.$popup.on("click",".ui_modal_close",(function(o){o.preventDefault(),e.closePopup()})),$(window).on("floatingTopHide",(function(o){e.$floatingWrap.hasClass("scroll")&&e.$floatingWrap.removeClass("scroll")})),$(window).on("floatingTopShow",(function(o){e.$floatingWrap.hasClass("scroll")||e.$floatingWrap.addClass("scroll")}))},openPopup:function(){var e=this;e.resetImage(),e.$popup.show(),e.$popup.removeClass("close"),e.$popup.addClass("open"),e.ignoreOverflowForce=$("body").hasClass("ignore-overflow-hidden"),!e.ignoreOverflowForce&&vcui.detect.isMobile&&$("html, body").css({overflow:"hidden"})},closePopup:function(){var e=this;e.$popup.addClass("close"),e.$popup.removeClass("open"),e.$popup.hide(),e.ignoreOverflowForce=$("body").hasClass("ignore-overflow-hidden"),!e.ignoreOverflowForce&&vcui.detect.isMobile&&$("html, body").css({overflow:"visible"})},resetImage:function(){this.$popup.find("img[data-temp-src]").each((function(e,o){o.src.length&&""!=o.src.length||(o.src=o.dataset.tempSrc)}))},requestData:function(e){var o=this,a=o.$popup.attr("data-list-url");lgkorUI.requestAjaxDataPost(a,null,(function(a){var t=a.data,n=t instanceof Array?t:[];o.listData=n,o.$list.empty();n.forEach((function(e,a){var t=e.obsSellingPrice&&e.obsSellingPrice>0?e.obsSellingPrice:null;e.price=t?vcui.number.addComma(t):null,e.disabledReason=e.disabledReason&&e.disabledReason.length>0?e.disabledReason:null,o.$list.append(vcui.template('<li{{#if disabledReason}} class="disabled"{{/if}}><div class="img"><a href="{{modelUrlPath}}"><img data-temp-src="{{smallImageAddr}}" alt="{{imageAltText}}"></a></div><dl><a href="{{modelUrlPath}}"><dt>{{#raw modelDisplayName}}</dt><dd>{{#if disabledReason}}{{disabledReason}}{{#else}}{{#if price}}{{price}}원{{/if}}{{/if}}</dd></a></dl></li>',e))})),o.checkNoData(),e&&o.openPopup()}),null,!0)},checkNoData:function(){var e=this;e.$list.find("li").length>0?e.$KRP0005.find(".floating-linker.recently").show():e.$KRP0005.find(".floating-linker.recently").hide()}};$(".btn-manager-info").on("click",(function(e){e.preventDefault(),lgkorUI.setStorage("managerInfoLink",!0),location.href="/my-page/care-solution-contract-status"})),$(document).ready((function(){if(!document.querySelector(".KRP0005"))return!1;if(!!$("#sw_con").length){0==$("#floatBox").length&&$("#sw_con").after('<div id="floatBox"></div>');var o=$("#sw_con .floating-wrap").remove(),a=$("#sw_con .btn-floating-wrap").remove();if($("#floatBox").find(".floating-wrap").length<1){var t=!1;$("#sw_con .swiper-slide").one("DOMNodeInserted",(function(n){t||($("#floatBox").append(a),$("#floatBox").append(o),"support"==$(".swiper-slide-active").data().hash&&($(o).hide(),$(a).hide()),$(".back-to-top button").off("click").on("click",(function(e){e.preventDefault(),$(window).trigger("floatingTop"),$("html, body").stop().animate({scrollTop:0},400)})),e.init(),$(document).trigger("appInit"),t=!0)}))}}else e.init()}))}();
//# sourceMappingURL=maps/KRP0005.min.js.map

{"version":3,"file":"../integratedSearch.min.js","sources":["integratedSearch.js"],"sourcesContent":["(function() {\r\n    //최근검색어\r\n    var recentItemTemplate = '<li><span class=\"box\"><a href=\"#{{text}}\" data-contents=\"최근 검색어\">{{text}}</a><button type=\"button\" class=\"btn-delete\" title=\"검색어 삭제\"><span class=\"blind\">삭제</span></button></span></li>'; //BTOCSITE-1057 : data-contents 추가 2021-08-09;\r\n    //인기검색어\r\n    var popularItemTemplate = '<li><a href=\"#{{text}}\" data-contents=\"인기 검색어\">{{index}}.{{text}}</a></li>'; //BTOCSITE-1057 : data-contents 추가 2021-08-09; \r\n    //추천태그\r\n    var recommendItemTemplate = '<li><a href=\"#{{text}}\" data-contents=\"추천태그\" class=\"rounded\"><span class=\"text\">#{{text}}</span></a></li>'; //BTOCSITE-1057 : data-contents 추가 2021-08-09;\r\n\r\n    //자동완성\r\n    var autoCompleteItemTemplate = '<li><a href=\"#{{input}}\">{{#raw text}}</a></li>';\r\n    //카테고리아이템\r\n    var categoryItemTemplate = '<li><a href=\"{{url}}\" class=\"rounded\"><span class=\"text\">{{#raw text}}</span></a></li>';\r\n    //제품미리보기\r\n    var previewItemTemplate = '<li><a href=\"{{url}}\" class=\"item\">' +\r\n        '<div class=\"image\"><img src=\"{{imageUrl}}\" alt=\"{{imageAlt}}\" onError=\"lgkorUI.addImgErrorEvent(this);\"></div>' +\r\n        '<div class=\"info\">' +\r\n            '<span class=\"name\">{{#raw title}}</span><span class=\"sku\">{{sku}}</span>' +\r\n            '<span class=\"price\"{{#if !obsFlag}} style=\"visibility: hidden;\"{{/if}}>{{price}}원</span>' +\r\n        '</div></a></li>';\r\n    //연관검색어\r\n    var similarTextTemplate = '<a href=\"#{{text}}\" class=\"similar-text\"><span class=\"search-word\">“{{text}}”</span> 찾으시나요?</a>'\r\n\r\n    var intergratedSearch = {\r\n        init: function() {\r\n            var self = this;\r\n            self.setting();\r\n            self.bindEvents();\r\n        },\r\n\r\n        setting: function() {\r\n            var self = this;\r\n\r\n            //타이머\r\n            self.searchTimer = null;\r\n\r\n            //통합검색 레이어\r\n            self.$searchLayer = $('#layerSearch');\r\n            //검색어 입력input\r\n            self.$inputSearch = self.$searchLayer.find('div.input-sch input.txt');\r\n            self.$inputSearch.attr('data-autofocus',true);\r\n            //검색버튼\r\n            self.$buttonSearch = self.$searchLayer.find('div.input-sch button.btn-search');\r\n            \r\n            //검색어 리스트 공간\r\n            self.$searchKeywordArea = self.$searchLayer.find('div.search-keyword-area');\r\n            //최근 검색어 리스트\r\n            self.$recentKeywordList = self.$searchKeywordArea.find('div.recent-keyword');\r\n            //인기 검색어 리스트\r\n            self.$popularKeywordList = self.$searchKeywordArea.find('div.popular-keyword');\r\n            //추천 태그 리스트\r\n            self.$suggestedTagsList = self.$searchKeywordArea.find('div.suggested-tags');\r\n\r\n            //검색 결과 공간\r\n            self.$searchResultArea = self.$searchLayer.find('div.search-result-area');\r\n            //자동 완성 리스트\r\n            self.$autoComplete = self.$searchResultArea.find('div.auto-complete');\r\n            //검색 결과\r\n            self.$resultPreview = self.$searchResultArea.find('div.result-preview');\r\n            //검색 결과 - 카테고리\r\n            self.$resultCategory = self.$resultPreview.find('div.result-category');\r\n            //검색 결과 - 리스트\r\n            self.$resultPreviewList = self.$resultPreview.find('div.result-preview-list');\r\n\r\n            //연관검색어\r\n            self.$searchSimilar = self.$searchLayer.find('div.search-similar');\r\n\r\n            $('li.search>a[href=\"#layerSearch\"]').removeAttr('data-control');\r\n            self.$searchLayer.attr(\"aria-hidden\",true).show();\r\n\r\n            //self.$searchResultArea.hide();\r\n            self.hideSearchResultArea();\r\n            self.$searchSimilar.hide();\r\n        },\r\n\r\n        sendSearchPage: function(searchUrl, search, force) {\r\n            if(searchUrl) {\r\n                var fi = searchUrl.indexOf('?');\r\n                var url = searchUrl + ((fi<0) ? \"?\" : \"&\") +\"search=\"+encodeURIComponent(search)+\"&force=\"+force;\r\n                location.href = url;\r\n            }\r\n        },\r\n        \r\n        bindEvents: function() {\r\n            var self = this;\r\n\r\n            $('li.search>a[href=\"#layerSearch\"]').off('.intergrated').on(\"click.intergrated\", function(e) {\r\n                e.preventDefault();\r\n                self.updateBasicData();\r\n                self.updateRecentSearchList();\r\n                //self.openSearchPopup();\r\n                //직접 구문이 작성되야 최신아이폰에서 포커스시 키보드가 열린다\r\n\r\n                self.$searchLayer.attr(\"aria-hidden\",false).addClass('open');\r\n                self.$inputSearch.focus();\r\n                var ignoreOverflow = $('body').hasClass('ignore-overflow-hidden');\r\n                if(!ignoreOverflow){\r\n                    // BTOCSITE-5938-285 scroll-lock 클래스 추가 : 팝업 뛰울시 바닥페이지 스크롤 밀림 방지 class\r\n                    $('body').addClass('scroll-lock');\r\n                }\r\n            });\r\n\r\n            //통합검색 닫음\r\n            self.$searchLayer.find('button.btn-close').off('.intergrated').on(\"click.intergrated\", function(e) {\r\n                e.preventDefault();\r\n\r\n                self.closeSearchPopup();\r\n            });\r\n\r\n            //검색버튼\r\n            self.$buttonSearch.off('.intergrated').on('click.intergrated', function(e){\r\n                e.preventDefault();\r\n                clearTimeout(self.searchTimer);\r\n\r\n                var searchVal = self.$inputSearch.val();\r\n                self.requestSearchInput(searchVal);\r\n            });\r\n\r\n            self.$inputSearch.keydown(function(key) {\r\n                if (key.keyCode == 13) {\r\n                    key.preventDefault();\r\n                    self.$buttonSearch.trigger('click');\r\n                }\r\n            });\r\n\r\n            //검색 타이머\r\n            self.$inputSearch.off('.intergrated').on(\"input.intergrated\", function(e) {\r\n                clearTimeout(self.searchTimer);\r\n                \r\n                var searchVal = this.value;\r\n                if (searchVal.length < lgkorUI.SEARCH_AUTOCOMPLETE_MIN_LENGTH) {\r\n                    self.openSearchInputLayer(true);\r\n                    self.$searchSimilar.hide();\r\n                    //self.hideAnimation(self.$searchResultArea);\r\n                    self.hideSearchResultArea();\r\n                    return;\r\n                }  \r\n                \r\n                self.searchTimer = setTimeout(function() {\r\n                    self.requestSearchAutoComplete(searchVal);\r\n                }, lgkorUI.SEARCH_AUTOCOMPLETE_TIMER);\r\n            });\r\n\r\n            //자동완성 리스트 클릭\r\n            self.$autoComplete.off('.intergrated').on('click.intergrated', 'div.keyword-list ul li a', function(e){\r\n                e.preventDefault();\r\n                self.searchItem($(this), true);\r\n            }).on('mouseover.intergrated', 'div.keyword-list ul li a', function(e){\r\n                //자동완성 리스트 오버\r\n            \r\n                e.preventDefault();\r\n                self.searchItem($(this),false);\r\n            });/*.on('mouseout', 'div.keyword-list ul li a', function(e){\r\n                e.preventDefault();\r\n            });*/\r\n\r\n            //연관검색어 클릭\r\n            self.$searchSimilar.off('.intergrated').on('click.intergrated', 'a', function(e){\r\n                e.preventDefault();\r\n                self.searchItem($(this),true);\r\n            });\r\n\r\n            //인기검색어 클릭\r\n            self.$popularKeywordList.off('.intergrated').on('click.intergrated', 'div.keyword-list ul li a', function(e){\r\n                e.preventDefault();\r\n                self.searchItem($(this),true);\r\n            });\r\n\r\n            //추천태그 클릭\r\n            self.$suggestedTagsList.off('.intergrated').on('click.intergrated', 'div.keyword-list ul li a', function(e){\r\n                e.preventDefault();\r\n                self.searchTagItem($(this),true);\r\n            });\r\n\r\n            //최근검색어 클릭\r\n            self.$recentKeywordList.off('.intergrated').on('click.intergrated', 'div.keyword-list ul li span a', function(e){\r\n                e.preventDefault();\r\n                self.searchItem($(this),true);\r\n            }).on('click.intergrated', 'div.keyword-list ul li span button', function(e){\r\n                //최근검색어 삭제 클릭\r\n                var text = $(this).siblings('a').first().attr('href').replace(\"#\", \"\");\r\n                self.removeRecentSearcheText(text);\r\n            });\r\n        },\r\n\r\n        openSearchPopup: function() {\r\n            var self = this;\r\n            self.$searchLayer.attr(\"aria-hidden\",false).addClass('open');\r\n\r\n            self.$inputSearch.focus();\r\n            \r\n            //\r\n            var ignoreOverflow = $('body').hasClass('ignore-overflow-hidden');\r\n            if(!ignoreOverflow){\r\n                $('html, body').css({\r\n                    overflow:\"hidden\"\r\n                });\r\n            }\r\n                /*\r\n            self.bodyOvewflow = $('body').css('overflow').toLowerCase();\r\n            self.ignoreOverflow = (self.bodyOvewflow != \"hidden\") && !$('body').hasClass('ignore-overflow-hidden');\r\n            console.log('open',self.ignoreOverflow,self.bodyOvewflow);\r\n            if(self.ignoreOverflow){\r\n                $('html, body').css({\r\n                    overflow:\"hidden\"\r\n                });\r\n            }\r\n            */\r\n        },\r\n\r\n        closeSearchPopup: function() {\r\n            var self = this;\r\n            clearTimeout(self.searchTimer);\r\n            self.$searchLayer.attr(\"aria-hidden\",true).removeClass('open');\r\n\r\n            var ignoreOverflow = $('body').hasClass('ignore-overflow-hidden');\r\n            if(!ignoreOverflow){\r\n                // BTOCSITE-5938-285 scroll-lock 클래스 추가 : 팝업 뛰울시 바닥페이지 스크롤 밀림 방지 class\r\n                $('body').removeClass('scroll-lock');\r\n            }\r\n                \r\n                /*\r\n            console.log('close',self.ignoreOverflow,self.bodyOvewflow);\r\n            if(self.ignoreOverflow) {\r\n                if(self.bodyOvewflow) {\r\n                    $('html, body').css({\r\n                        overflow:self.bodyOvewflow\r\n                    });\r\n                } else {\r\n                    $('html, body').css({\r\n                        overflow:\"visible\"\r\n                    });\r\n                }\r\n            }\r\n            */\r\n        },\r\n\r\n        //검색어창에 입력후 검색\r\n        searchItem:function($item, sendSearchPage) {\r\n            var self = this;\r\n            var searchVal = $item.attr('href').replace(\"#\", \"\");\r\n            if(sendSearchPage) {\r\n                self.$inputSearch.val(searchVal);\r\n                self.$buttonSearch.trigger('click');\r\n                self.closeSearchPopup();\r\n            } else {\r\n                self.requestSearch(searchVal, false);\r\n            }\r\n        },\r\n\r\n        //추천 태그 검색\r\n        searchTagItem:function($item, sendSearchPage) {\r\n            var self = this;\r\n            var searchVal = $item.attr('href');\r\n            if(sendSearchPage) {\r\n                self.$inputSearch.val(searchVal);\r\n                self.$buttonSearch.trigger('click');\r\n                self.closeSearchPopup();\r\n            } else {\r\n                self.requestSearch(searchVal, false);\r\n            }\r\n        },\r\n\r\n\r\n        openSearchInputLayer: function(open) {\r\n            var self = this;\r\n            if(open) {\r\n                self.updateRecentSearchList();\r\n                self.$searchKeywordArea.show();\r\n\r\n            } else {\r\n                self.$searchKeywordArea.hide();\r\n            }\r\n        },\r\n\r\n        hideSearchResultArea:function() {\r\n            var self = this;\r\n            //자동완성\r\n            self.$autoComplete.hide();\r\n            //검색 결과\r\n            self.$resultPreview.hide();\r\n            //검색 결과 - 카테고리\r\n            self.$resultCategory.hide();\r\n            //검색 결과 - 리스트\r\n            self.$resultPreviewList.hide();\r\n        },\r\n\r\n        //검색어 입력중 검색\r\n        requestSearchAutoComplete:function(value) {\r\n            var self = this;\r\n            var ajaxUrl = self.$searchLayer.data('autocompleteUrl');\r\n            lgkorUI.requestAjaxData(ajaxUrl, {\"search\":value}, function(result) {\r\n                var param = result.param;\r\n                var data = result.data;\r\n\r\n                var searchedValue = param.search;\r\n                var replaceText = '<span class=\"search-word\">' + searchedValue + '</span>';\r\n                \r\n                //자동완성 리스트 갱신\r\n                var arr = (data && data.listData instanceof Array) ? data.listData : [];\r\n                if(arr.length > 0) {\r\n                    var $list_ul = self.$autoComplete.find('div.keyword-list ul');\r\n                    var searchItem = arr[0]; //BTOCSITE-5938-316 PC 검색 카테고리 미노출 오류\r\n                    $list_ul.empty();\r\n                    arr.forEach(function(item, index) {\r\n                        $list_ul.append(vcui.template(autoCompleteItemTemplate, {\"input\":item, \"text\":vcui.string.replaceAll(item, searchedValue, replaceText)}));\r\n                    });\r\n                    self.$autoComplete.show();\r\n                    self.openSearchInputLayer(false);\r\n                    self.$searchSimilar.hide();\r\n                    self.requestSearch(searchItem, false); //BTOCSITE-5938-316 PC 검색 카테고리 미노출 오류\r\n                } else {\r\n                    self.hideSearchResultArea();\r\n                    //연관검색어가 있으면 연관검색어를 표시하고 아니면 숨기기\r\n                    if(data.similarText) {\r\n                        self.$searchSimilar.html(vcui.template(similarTextTemplate, {\"text\":data.similarText}));\r\n                        self.$searchSimilar.show();\r\n                        self.openSearchInputLayer(false);\r\n                    } else {\r\n                        self.$searchSimilar.hide();\r\n                        self.openSearchInputLayer(true);\r\n                    }\r\n                }\r\n            });\r\n        },\r\n\r\n        //검색어 미리보기 검색\r\n        requestSearch:function(value, isSaveRecentKeyword) {\r\n            var self = this;\r\n            var ajaxUrl = self.$searchLayer.data('searchUrl');\r\n            lgkorUI.requestAjaxData(ajaxUrl, {\"search\":value}, function(result) {\r\n                var param = result.param;\r\n                var data = result.data;\r\n\r\n                var searchedValue = param.search;\r\n                var replaceText = '<span class=\"search-word\">' + searchedValue + '</span>';\r\n\r\n                if(data.searchCount && data.category && data.category.length > 0) {\r\n                    self.$resultPreview.find('span.title-line em.count').text(\"(\" + vcui.number.addComma(data.searchCount) + \")\");\r\n                } else {\r\n                    self.$resultPreview.find('span.title-line em.count').text(\"\");\r\n                }\r\n                \r\n                //nodata 테스트\r\n                //data.preview = null;\r\n                //data.category = null;\r\n                //data.similarText = null;\r\n                \r\n                var showSearchResultArea = false;\r\n\r\n                //카테고리 리스트 갱신\r\n                var arr = (data.category && data.category) instanceof Array ? data.category : [];\r\n                var $list_ul = self.$resultCategory.find('ul');\r\n                $list_ul.empty();\r\n                if(arr.length > 0) {\r\n                    arr.forEach(function(item, index) {\r\n                        $list_ul.append(vcui.template(categoryItemTemplate, {\"url\":item.url,\"text\":vcui.string.replaceAll(item.text, searchedValue, replaceText)}));\r\n                    });\r\n                    self.$resultCategory.show();\r\n                    showSearchResultArea = true;\r\n                } else {\r\n                    self.$resultCategory.hide();\r\n                }\r\n                \r\n                //검색 미리보기 리스트 갱신\r\n                //210409 제거요청으로 제거\r\n                /*\r\n                arr = (data.preview && data.preview) instanceof Array ? data.preview : [];\r\n                var $list_ul = self.$resultPreviewList.find('ul');\r\n                $list_ul.empty();\r\n                if(arr.length > 0) {\r\n                    arr.forEach(function(item, index) {\r\n                        item.title = vcui.string.replaceAll(item.title, searchedValue, replaceText);\r\n                        item.price = vcui.number.addComma(item.price);\r\n                        item.obsFlag = lgkorUI.stringToBool(item.obsFlag);\r\n                        $list_ul.append(vcui.template(previewItemTemplate, item));\r\n                    });\r\n                    self.$resultPreviewList.show();\r\n                    showSearchResultArea = true;\r\n                } else {\r\n                    self.$resultPreviewList.hide();\r\n                }\r\n                */\r\n\r\n                if(showSearchResultArea) {\r\n                    //검색결과가 있는 경우.\r\n                    self.openSearchInputLayer(false);\r\n                    self.$resultPreview.show();\r\n                    self.$searchSimilar.hide();\r\n                    if(isSaveRecentKeyword) self.addRecentSearcheText(searchedValue);\r\n                } else {\r\n                    //검색결과를 표시할것이 없을경우\r\n                    self.$searchSimilar.hide();\r\n                    /*\r\n                    //연관검색어가 있으면 연관검색어를 표시하고 아니면 숨기기\r\n                    if(data.similarText) {\r\n                        self.hideAnimation(self.$searchKeywordArea);\r\n                        //self.hideAnimation(self.$searchResultArea);\r\n                        self.hideSearchResultArea();\r\n                        self.$searchSimilar.html(vcui.template(similarTextTemplate, {\"text\":data.similarText}));\r\n                        self.$searchSimilar.show();\r\n                    } else {\r\n                        self.showAnimation(self.$searchKeywordArea);\r\n                        //self.hideAnimation(self.$searchResultArea);\r\n                        self.hideSearchResultArea();\r\n                        self.$searchSimilar.hide();\r\n                    }\r\n                    */\r\n                }\r\n            });\r\n        },\r\n\r\n        //최근 검색어 삭제\r\n        removeRecentSearcheText:function(text) {\r\n            var self = this;\r\n            /*\r\n            var searchedList = localStorage.searchedList ? JSON.parse(localStorage.searchedList) : [];\r\n            if(!searchedList) {\r\n                searchedList = [];\r\n            }\r\n\r\n            var findIndex = $.inArray(text, searchedList);\r\n            if(findIndex >= 0) {\r\n                searchedList.splice(findIndex, 1);\r\n                localStorage.searchedList = JSON.stringify(searchedList);\r\n            }\r\n            */\r\n            lgkorUI.removeCookieArrayValue(lgkorUI.INTERGRATED_SEARCH_VALUE, text)\r\n            self.updateRecentSearchList();\r\n        },\r\n\r\n        //최근 검색어 추가\r\n        addRecentSearcheText:function(text) {\r\n            if(!text || text.length < 1) return;\r\n            var self = this;\r\n\r\n            lgkorUI.addCookieArrayValue(lgkorUI.INTERGRATED_SEARCH_VALUE, text, lgkorUI.MAX_SAVE_RECENT_KEYWORD);\r\n            self.updateRecentSearchList();\r\n        },\r\n\r\n        //최근 검색어 리스트 갱신\r\n        updateRecentSearchList:function() {\r\n            var self = this;\r\n\r\n            var cookieValue = lgkorUI.getCookie(lgkorUI.INTERGRATED_SEARCH_VALUE);\r\n            var searchedList = cookieValue ? cookieValue.split('|') : [];\r\n            //searchedList = vcui.array.reverse(searchedList);\r\n            \r\n            var arr = searchedList instanceof Array ? searchedList : [];\r\n            var $list_ul = self.$recentKeywordList.find('div.keyword-list ul');\r\n            $list_ul.empty();\r\n            if(arr.length > 0) {\r\n                arr.forEach(function(item, index) {\r\n                    $list_ul.append(vcui.template(recentItemTemplate, {\"text\":item}));\r\n                });\r\n                self.$recentKeywordList.show();\r\n                self.$recentKeywordList.find('div.no-data').hide();\r\n            } else {\r\n                self.$recentKeywordList.hide();\r\n                self.$recentKeywordList.find('div.no-data').show();\r\n            }\r\n        },\r\n\r\n        //기초 데이타 갱신\r\n        updateBasicData:function() {\r\n            var self = this;\r\n            var ajaxUrl = self.$searchLayer.data('basicUrl');\r\n            lgkorUI.requestAjaxData(ajaxUrl, null, function(result) {\r\n                var data = result.data;\r\n\r\n                //인기검색어\r\n                var arr = (data.popular && data.popular instanceof Array) ? data.popular : [];\r\n                if(arr.length > 0) {\r\n                    var $list_ul = self.$popularKeywordList.find('div.keyword-list ul');\r\n                    $list_ul.empty();\r\n                    arr.forEach(function(item, index) {\r\n                        $list_ul.append(vcui.template(popularItemTemplate, {\"text\":item, \"index\":index+1}));\r\n                    });\r\n                    self.$popularKeywordList.show();\r\n                } else {\r\n                    self.$popularKeywordList.hide();\r\n                }\r\n\r\n                //추천태그\r\n                arr = (data.recommend && data.recommend instanceof Array) ? data.recommend : [];\r\n                if(arr.length > 0) {\r\n                    var $list_ul = self.$suggestedTagsList.find('ul');\r\n                    $list_ul.empty();\r\n                    arr.forEach(function(item, index) {\r\n                        $list_ul.append(vcui.template(recommendItemTemplate, {\"text\":item}));\r\n                    });\r\n                    self.$suggestedTagsList.show();\r\n                } else {\r\n                    self.$suggestedTagsList.hide();\r\n                }\r\n            });\r\n        },\r\n\r\n        //검색버튼 검색\r\n        requestSearchInput:function(value) {\r\n            //BTOCSITE-91 검색 바로가기 개발요청\r\n            var self = this;\r\n            var ajaxUrl = self.$searchLayer.data('searchInputUrl');\r\n\r\n            lgkorUI.requestAjaxData('/search/searchKeyword.lgajax', {\"keyword\":value}, function(result) {\r\n                if(result.data && result.data.success == 'Y' && result.data.url) {\r\n                    if(result.data.linkTarget == 'self') {\r\n                        location.href = result.data.url;\r\n                    } else {\r\n                        if(isApp()) {   \r\n                            if(vcui.detect.isIOS){\r\n                                var jsonString = JSON.stringify({'command':'sendOutLink', 'url': result.data.url});\r\n                                webkit.messageHandlers.callbackHandler.postMessage(jsonString);\r\n                            } else {\r\n                                void android.openLinkOut(result.data.url);\r\n                            }\r\n                        } else {\r\n                            window.open(result.data.url,'_blank');\r\n                        }\r\n                    }\r\n                } else {\r\n                    lgkorUI.requestAjaxData(ajaxUrl, {\"search\":value}, function(result) {\r\n                        self.hideSearchResultArea();\r\n                        self.$searchSimilar.hide();\r\n                        var data = result.data;\r\n                        var url = self.$searchLayer.data(data.category+\"Url\");\r\n                        if(url) {\r\n                            self.sendSearchPage(url,value,false);\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        },\r\n    }\r\n\r\n    $(document).ready(function() {\r\n        intergratedSearch.init();\r\n    });\r\n})();"],"names":["intergratedSearch","init","this","setting","bindEvents","self","searchTimer","$searchLayer","$","$inputSearch","find","attr","$buttonSearch","$searchKeywordArea","$recentKeywordList","$popularKeywordList","$suggestedTagsList","$searchResultArea","$autoComplete","$resultPreview","$resultCategory","$resultPreviewList","$searchSimilar","removeAttr","show","hideSearchResultArea","hide","sendSearchPage","searchUrl","search","force","fi","url","indexOf","encodeURIComponent","location","href","off","on","e","preventDefault","updateBasicData","updateRecentSearchList","addClass","focus","hasClass","closeSearchPopup","clearTimeout","searchVal","val","requestSearchInput","keydown","key","keyCode","trigger","value","length","lgkorUI","SEARCH_AUTOCOMPLETE_MIN_LENGTH","openSearchInputLayer","setTimeout","requestSearchAutoComplete","SEARCH_AUTOCOMPLETE_TIMER","searchItem","searchTagItem","text","siblings","first","replace","removeRecentSearcheText","openSearchPopup","css","overflow","removeClass","$item","requestSearch","open","ajaxUrl","data","requestAjaxData","result","$list_ul","param","searchedValue","replaceText","arr","listData","Array","empty","forEach","item","index","append","vcui","template","input","string","replaceAll","similarText","html","isSaveRecentKeyword","searchCount","category","number","addComma","showSearchResultArea","addRecentSearcheText","removeCookieArrayValue","INTERGRATED_SEARCH_VALUE","addCookieArrayValue","MAX_SAVE_RECENT_KEYWORD","cookieValue","getCookie","searchedList","split","popular","recommend","keyword","jsonString","success","linkTarget","isApp","detect","isIOS","JSON","stringify","command","webkit","messageHandlers","callbackHandler","postMessage","android","openLinkOut","window","document","ready"],"mappings":"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"}